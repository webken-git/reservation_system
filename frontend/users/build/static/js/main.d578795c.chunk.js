(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(34),r=a.n(s),o=a(6),i=a.n(o),l=a(50),j=a.n(l),u=a(105),b=a(18),d=a(5),p=a(3),h=a(25),O=(a(78),a(0)),m=function(e){var t=e.feelist,a=e.age,c=e.time;return console.log(t),console.log(a),console.log(c),Object(O.jsx)("div",{})},x=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),r=Object(p.a)(s,2),o=r[0],l=r[1],j=Object(c.useState)(),u=Object(p.a)(j,2),b=u[0],d=u[1],x=Object(c.useState)(),f=Object(p.a)(x,2),g=f[0],v=f[1],N=Object(c.useState)(),_=Object(p.a)(N,2),w=_[0],y=_[1],k=Object(c.useState)(),S=Object(p.a)(k,2),C=S[0],E=S[1];Object(c.useEffect)((function(){i.a.get("".concat("https://webhok.net/reservation_system","/api/facility-fees/")).then((function(e){var t=e.data;l(t),v(t[1])})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){i.a.get("https://webhok.net/reservation_system/api/places/").then((function(e){var t=e.data;n(t),d(t[0].name)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){i.a.get("".concat("https://webhok.net/reservation_system","/api/ages/")).then((function(e){var t=e.data;y(t)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){i.a.get("".concat("https://webhok.net/reservation_system","/api/times/")).then((function(e){var t=e.data;E(t)})).catch((function(e){console.log(e)}))}),[]);var T=a.map((function(e){return Object(O.jsx)(h.a,{onClick:function(){return function(e){d(e);var t=o.filter((function(t){return t.place===e}));return v(t[0])}(e.name)},children:e.name})})),R=a.map((function(e){return Object(O.jsx)(h.c,{children:Object(O.jsx)(m,{feelist:g,age:w,time:C})})}));return Object(O.jsxs)(h.d,{children:[Object(O.jsx)(h.b,{children:T}),Object(O.jsxs)("p",{children:[b,"\u3067\u3059"]}),R]})},f=a(4),g=a.n(f),v=a(12),N=a(13),_=(a(81),a(82),function(e){return Object(O.jsx)("div",{className:"logobox",onClick:function(){window.location.href="/"},children:Object(O.jsx)("img",{src:e.logo})})}),w=a.p+"static/media/logo.0d0657fa.png",y=(a(83),a(35)),k=a.n(y),S=a(14),C=(a(95),function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(b.b,{to:e.url,className:"linkdeco",children:Object(O.jsx)("p",{className:"pagename",style:{color:e.namecolor},children:e.pagename})})})}),E="https://webhok.net/reservation_system",T={LOGIN:"".concat(E,"/account/login/"),REGISTRATION:"".concat(E,"/account/registration/"),LOGOUT:"".concat(E,"/account/logout/"),CHANGE_PASSWORD:"".concat(E,"/account/password/change/"),RESET_PASSWORD:"".concat(E,"/account/password/reset/"),RESET_PASSWORD_CONFIRM:"".concat(E,"/account/password/reset/confirm/"),TOKEN_VERIFY:"".concat(E,"/account/token/verify/"),TOKEN_REFRESH:"".concat(E,"/account/token/refresh/"),GET_USER_DATA:"".concat(E,"/account/user/"),GET_USER_LIST:"".concat(E,"/api/users/")},R=(a(22),function(e){var t=new N.a,a=T.LOGOUT;return Object(O.jsx)("div",{className:"logout-container",onClick:function(){i.a.post(a,{headers:{Authorization:"JWT ".concat(t.get("access_token"))}}).then((function(e){t.remove("access_token"),t.remove("refresh_token"),window.location.href="/"})).catch((function(e){console.log(e)}))},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})});k.a.setAppElement("#root");var A=function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),n=a[0],s=a[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"usericonbox",onClick:function(){return s(!0)},children:[Object(O.jsx)("div",{className:"circle"}),Object(O.jsx)("p",{children:Object(O.jsx)(S.a,{icon:e.icon})})]}),Object(O.jsxs)(k.a,{className:"modal",overlayClassName:"overlay",isOpen:n,onRequestClose:function(){return s(!1)},children:[Object(O.jsx)(C,{url:"/mypage",pagename:"\u30de\u30a4\u30da\u30fc\u30b8"}),Object(O.jsx)(C,{url:"/mypage",pagename:"\u4e88\u7d04\u4e00\u89a7"}),Object(O.jsx)(R,{})]})]})},F=(a(98),function(e){return Object(O.jsx)("div",{className:"cartbox",children:Object(O.jsx)("p",{children:Object(O.jsx)(S.a,{icon:e.icon})})})}),I=a(27),G=function(){return Object(O.jsx)("button",{type:"button",className:"login-link",onClick:function(){window.location.href="/login"},children:"\u30ed\u30b0\u30a4\u30f3"})},D=function(){return Object(O.jsx)("button",{type:"button",className:"registration-link",onClick:function(){window.location.href="/registration"},children:"\u65b0\u898f\u767b\u9332"})},L=(a(99),function(){return Object(O.jsx)("div",{className:"loading-container",children:Object(O.jsx)("div",{className:"loading"})})}),Z=function(){var e=new N.a,t=n.a.useState(!1),a=Object(p.a)(t,2),c=a[0],s=a[1],r=n.a.useState(!1),o=Object(p.a)(r,2),l=o[0],j=o[1],u=T.TOKEN_VERIFY,b=function(){var t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=new FormData).append("token",e.get("access_token")),j(!0),i.a.post(u,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){s(!0),j(!1)})).catch((function(e){s(!1),j(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n.a.useEffect((function(){b()}),[]),Object(O.jsxs)("div",{className:"header-box",children:[Object(O.jsx)(_,{logo:w}),Object(O.jsx)("div",{className:"box"}),c?Object(O.jsxs)("div",{className:"rightside",children:[Object(O.jsx)(A,{icon:I.b}),Object(O.jsx)(F,{icon:I.a})]}):Object(O.jsxs)("div",{className:"rightside-login",children:[Object(O.jsx)(G,{}),Object(O.jsx)("span",{}),Object(O.jsx)(D,{})]}),l?Object(O.jsx)(L,{}):null]})},q=(a(100),a(101),function(){return Object(O.jsxs)("div",{className:"footer-box",children:[Object(O.jsx)("div",{className:"logo",children:Object(O.jsx)(_,{logo:w})}),Object(O.jsx)("p",{children:"Copyright \xa9 2020 \u7279\u5b9a\u975e\u55b6\u5229\u6d3b\u52d5\u6cd5\u4eba\u7a1a\u5185\u30ab\u30fc\u30ea\u30f3\u30b0\u5354\u4f1a All Rights Reserved."})]})}),W=function(e){var t=e.children;return Object(O.jsx)(d.b,{exact:!0,path:t.props.path,children:Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"allbox",children:[Object(O.jsx)(Z,{}),Object(O.jsx)("div",{className:"mainbox",children:Object(O.jsx)("div",{className:"contents",children:t})}),Object(O.jsx)(q,{})]})})})};W.defaultProps={};var B=W,J=function(e){var t=new N.a;if(t.get("access_token")){var a=new FormData;a.append("token",t.get("access_token"));var c=T.TOKEN_VERIFY;return i.a.post(c,a,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(e){alert("\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"),t.remove("access_token"),t.remove("refresh_token"),window.location.href="/login"})),e.children}return Object(O.jsx)(d.a,{to:"/login"})},K=(a(102),function(){return Object(O.jsxs)("div",{className:"mypage-wrapper",children:[Object(O.jsx)("p",{className:"title",children:"\u30a2\u30ab\u30a6\u30f3\u30c8"}),Object(O.jsxs)("table",{className:"mail-pass",children:[Object(O.jsxs)("tr",{className:"mail-address",children:[Object(O.jsx)("td",{className:"mail-pass-title",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(O.jsx)("td",{className:"mail-pass-body",children:"sample@example.jp"}),Object(O.jsx)("td",{children:Object(O.jsx)(C,{url:"/mypage/email",namecolor:"#2699FB",pagename:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u66f4"})})]}),Object(O.jsxs)("tr",{className:"pass-word",children:[Object(O.jsx)("td",{className:"mail-pass-title",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(O.jsx)("td",{className:"mail-pass-body",children:"***************"}),Object(O.jsx)("td",{className:"change-link",children:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4"})]})]})]})}),P=(a(103),function(){return Object(O.jsxs)("div",{className:"mail-address-change-wrapper",children:[Object(O.jsx)("p",{className:"title",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u66f4"}),Object(O.jsx)("p",{className:"new-mail-address",children:"\u65b0\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(O.jsx)("p",{className:"register",children:"\u767b\u9332"}),Object(O.jsx)("p",{children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})}),U=a(15),H=a(28),V=a(106),Y=a(21),z=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(p.a)(s,2),o=r[0],l=r[1],j=Object(c.useState)(""),u=Object(p.a)(j,2),b=u[0],d=u[1],h=Object(c.useState)(!1),m=Object(p.a)(h,2),x=m[0],f=m[1],g=Object(c.useState)(null),v=Object(p.a)(g,2),N=v[0],_=v[1],y=Object(V.a)(),k=Object(p.a)(y,2),C=(k[0],k[1]),E=Object(H.a)(),R=E.register,A=E.handleSubmit,F=E.formState.errors,I=T.LOGIN,G=function(){var e=document.getElementById("password");"password"===e.type?(e.type="text",f(!0)):(e.type="password",f(!1))};return Object(O.jsxs)("div",{className:"auth-page",children:[Object(O.jsx)("div",{className:"auth-page__logo",children:Object(O.jsx)("img",{src:w,alt:"logo"})}),Object(O.jsxs)("div",{className:"link",children:[Object(O.jsx)("h1",{className:"auth-page__title",children:"\u30ed\u30b0\u30a4\u30f3"}),Object(O.jsx)(D,{})]}),N&&Object(O.jsx)("p",{className:"auth-page__error",children:N}),Object(O.jsxs)("form",{className:"auth-page__form",onSubmit:A((function(){var e=new FormData;e.append("email",o),e.append("password",b),n(!0),_(null),i.a.post(I,e,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(e){n(!1),C("access_token",e.data.access_token,{path:"/"},{httpOnly:!0}),C("refresh_token",e.data.refresh_token,{path:"/"},{httpOnly:!0}),window.location.href="/"})).catch((function(e){n(!1),console.log(e)}))})),children:[Object(O.jsxs)("div",{className:"auth-page__form-group",children:[Object(O.jsx)("label",{className:"auth-page__form-label",htmlFor:"email",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),F.email&&Object(O.jsx)("span",{className:"auth-page__form-error",children:"\u203b\u3053\u306e\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059"}),Object(O.jsx)("input",Object(U.a)(Object(U.a)({className:"auth-page__form-input",type:"email",name:"email",placeholder:"samlple@example.com",autoComplete:"off"},R("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i})),{},{value:o,onChange:function(e){return l(e.target.value)}}))]}),Object(O.jsxs)("div",{className:"auth-page__form-group",children:[Object(O.jsx)("label",{className:"auth-page__form-label",htmlFor:"password",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),F.password&&Object(O.jsx)("span",{className:"auth-page__form-error",children:"\u203b\u3053\u306e\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059"}),Object(O.jsxs)("div",{className:"auth-page__password",children:[Object(O.jsx)("input",Object(U.a)(Object(U.a)({className:"password",type:"password",name:"password",id:"password"},R("password",{required:!0,minLength:6})),{},{value:b,onChange:function(e){return d(e.target.value)}})),x?Object(O.jsx)(S.a,{icon:Y.a,id:"btn-eye",onClick:G}):Object(O.jsx)(S.a,{icon:Y.b,id:"btn-eye",onClick:G})]})]}),Object(O.jsx)("div",{className:"auth-btn-wrapper",children:Object(O.jsx)("button",{className:"btn auth-btn",type:"submit",children:"\u30ed\u30b0\u30a4\u30f3"})})]}),a&&Object(O.jsx)(L,{})]})},$=function(){return Object(O.jsx)(z,{})},M=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(p.a)(s,2),o=r[0],l=r[1],j=Object(c.useState)(""),u=Object(p.a)(j,2),b=u[0],d=u[1],h=Object(c.useState)(!1),m=Object(p.a)(h,2),x=m[0],f=m[1],g=Object(c.useState)(""),v=Object(p.a)(g,2),N=v[0],_=v[1],y=Object(H.a)(),k=y.register,C=y.handleSubmit,E=y.formState.errors,R=T.REGISTRATION,A=function(){var e=document.getElementById("password");"password"===e.type?(e.type="text",f(!0)):(e.type="password",f(!1))};return Object(O.jsxs)("div",{className:"auth-page",children:[Object(O.jsx)("div",{className:"auth-page__logo",children:Object(O.jsx)("img",{src:w,alt:"logo"})}),Object(O.jsx)("h1",{className:"auth-page__title-registration",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u767b\u9332"}),N&&Object(O.jsx)("p",{className:"success",children:N}),Object(O.jsxs)("form",{className:"auth-page__form",onSubmit:C((function(e){var t=new FormData;t.append("email",o),t.append("password1",b),t.append("password2",b),n(!0),_(null),i.a.post(R,t).then((function(e){n(!1),_("\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002"),setTimeout((function(){window.location.href="/login"}),500)})).catch((function(e){n(!1)}))})),children:[N&&Object(O.jsx)("p",{children:N}),Object(O.jsxs)("div",{className:"auth-page__form-group",children:[Object(O.jsx)("label",{className:"auth-page__form-label",htmlFor:"email",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),E.email&&Object(O.jsx)("span",{className:"auth-page__form-error",children:"\u203b\u3053\u306e\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059"}),Object(O.jsx)("input",Object(U.a)(Object(U.a)({className:"auth-page__form-input",type:"email",name:"email",placeholder:"samlple@example.com",autoComplete:"off"},k("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i})),{},{value:o,onChange:function(e){return l(e.target.value)}}))]}),Object(O.jsxs)("div",{className:"auth-page__form-group",children:[Object(O.jsx)("label",{className:"auth-page__form-label",htmlFor:"password",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),E.password&&Object(O.jsx)("span",{className:"auth-page__form-error",children:"\u203b\u3053\u306e\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059"}),Object(O.jsxs)("div",{className:"auth-page__password",children:[Object(O.jsx)("input",Object(U.a)(Object(U.a)({className:"password",type:"password",name:"password",id:"password"},k("password",{required:!0,minLength:6})),{},{value:b,onChange:function(e){return d(e.target.value)}})),x?Object(O.jsx)(S.a,{icon:Y.a,id:"btn-eye",onClick:A}):Object(O.jsx)(S.a,{icon:Y.b,id:"btn-eye",onClick:A})]})]}),Object(O.jsx)("div",{className:"auth-btn-wrapper",children:Object(O.jsx)("button",{type:"submit",className:"btn auth-btn",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210"})})]}),a&&Object(O.jsx)(L,{})]})};i.a.defaults.xsrfCookieName="csrftoken",i.a.defaults.xsrfHeaderName="X-CSRFToken",i.a.defaults.withCredentials=!0,i.a.defaults.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"JWT ".concat(j.a.get("access_token"))};var X=function(){return Object(O.jsx)(b.a,{children:Object(O.jsx)(u.a,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/login",exact:!0,children:Object(O.jsx)($,{})}),Object(O.jsx)(d.b,{path:"/registration",exact:!0,children:Object(O.jsx)(M,{})}),Object(O.jsx)(B,{path:"/",exact:!0,children:Object(O.jsx)(x,{})}),Object(O.jsxs)(J,{children:[Object(O.jsx)(B,{path:"/mypage",exact:!0,children:Object(O.jsx)(K,{})}),Object(O.jsx)(B,{path:"/mypage/email",exact:!0,children:Object(O.jsx)(P,{})})]})]})})})};r.a.render(Object(O.jsx)(X,{}),document.getElementById("root"))},22:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[104,1,2]]]);